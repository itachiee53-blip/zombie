<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hell on Earth: Survival</title>
    <link rel="stylesheet" href="style.css">
</head>
<body class="theme-day">

    <div id="start-overlay" class="overlay">
        <div class="overlay-content">
            <div class="start-icon">‚ò£Ô∏è</div>
            <h1 class="game-logo">HELL ON EARTH</h1>
            <p style="color: #aaa; margin-bottom: 20px; font-size: 0.9rem;">‡∏à‡∏∏‡∏î‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô..‡∏Ç‡∏≠‡∏á‡∏´‡∏≤‡∏¢‡∏ô‡∏∞ ‡∏ó‡∏∏‡∏Å‡πÜ‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡∏î‡∏™‡∏¥‡∏ô‡πÉ‡∏à‡∏à‡∏∞‡∏™‡πà‡∏á‡∏ú‡∏•‡∏Å‡∏±‡∏ö‡∏ï‡∏≠‡∏ô‡∏à‡∏ö</p>
            
            <div class="chapter-wrapper">
                <div class="main-chapter-row">
                    <button id="btn-part1" class="btn-3d btn-green">‚ñ∂ START: PART 1</button>
                    <button id="btn-chapter-toggle" class="btn-3d btn-dark toggle-icon">‚ò∞ Episodes</button>
                </div>
                
                <div id="extra-chapters" class="chapter-dropdown hidden">
                    <div class="dropdown-header">--- SELECT EPISODE ---</div>
                    <button id="btn-part2" class="sub-chapter-btn locked-btn" disabled>üîí PART 2: Rooftop</button>
                    <button class="sub-chapter-btn locked-btn" disabled>üîí PART 3 (Coming Soon)</button>
                    <button class="sub-chapter-btn locked-btn" disabled>üîí PART 4 (Coming Soon)</button>
                    <button class="sub-chapter-btn locked-btn" disabled>üîí PART 5 (Future Update)</button>
                </div>
            </div>

            <div class="menu-divider"></div>
            
            <div class="action-grid">
                <button id="btn-new-run" class="btn-3d btn-blue">
                    <span class="btn-icon">üÜï</span> NEW GAME
                </button>
                <button id="btn-continue" class="btn-3d btn-orange hidden">
                    <span class="btn-icon">üìÇ</span> LOAD SAVE
                </button>
            </div>

            <button id="btn-back-menu" class="btn-flat">üè† Back to Main Menu</button>
            <button id="btn-reset-save" class="reset-link hidden">üóëÔ∏è Delete Save Data</button>
        </div>
    </div>

    <div class="game-container">
        <div class="nav-bar">
            <button id="home-btn" class="nav-btn btn-home">üè† MENU</button>
            <div class="right-nav">
                <button id="save-btn" class="nav-btn btn-save" onclick="saveGameData()">üíæ SAVE</button>
                <button id="guide-btn" class="nav-btn btn-guide" onclick="openGuide()">‚ùì GUIDE</button>
            </div>
        </div>

        <div class="time-bar">
            <span id="day-display">üìÖ Day 1</span>
            <span id="time-display">üïó 08:00 | Morning</span>
        </div>

        <div class="hud-bar">
            <div class="stat-group">
                <div class="stat-label">‚ù§Ô∏è HP <span id="val-hp">100</span>%</div>
                <div class="progress-bg"><div id="bar-hp" class="progress-fill hp-fill" style="width: 100%;"></div></div>
            </div>
            <div class="stat-group">
                <div class="stat-label">üß† Sanity <span id="val-sanity">100</span>%</div>
                <div class="progress-bg"><div id="bar-sanity" class="progress-fill sanity-fill" style="width: 100%;"></div></div>
            </div>
            <div class="stat-group">
                <div class="stat-label">üçó Food <span id="val-food">100</span>%</div>
                <div class="progress-bg"><div id="bar-food" class="progress-fill food-fill" style="width: 100%;"></div></div>
            </div>
            <div class="stat-group">
                <div class="stat-label">üëß Rin <span id="val-rel">50</span>%</div>
                <div class="progress-bg"><div id="bar-rel" class="progress-fill rel-fill" style="width: 50%;"></div></div>
            </div>
        </div>

        <div id="enemy-hud" class="enemy-bar-container hidden">
            <div class="enemy-info">
                <span id="enemy-name">üßü Zombie</span>
                <span id="enemy-hp-text">100/100</span>
            </div>
            <div class="progress-bg enemy-bg">
                <div id="bar-enemy" class="progress-fill enemy-fill" style="width: 100%;"></div>
            </div>
        </div>

        <div class="sub-hud">
            <div class="inv-box">üéí Bag: <span id="val-slots">0/3</span></div>
            <div class="ammo-box">üî´ Ammo: <span id="val-ammo">0</span></div>
            <div class="noise-box">üîä Noise: <span id="val-noise">Low</span></div>
        </div>

        <div id="inventory-display" class="inventory-grid"></div>

        <div class="scene-icon-container">
            <div id="scene-icon">üèôÔ∏è</div>
            <div id="damage-popup" class="dmg-popup hidden">-10</div>
        </div>

        <audio id="scene-audio" loop></audio>
        <audio id="sfx-audio"></audio>

        <div class="story-display-area">
            <div id="narrative-box" class="narrative-scroll">Loading...</div>
            <div id="dialogue-container" class="dialogue-box hidden">
                <div id="speaker-name" class="speaker-label">???</div>
                <div id="speaker-text" class="speech-text">...</div>
            </div>
        </div>

        <div id="status-msg" class="status-message"></div>
        <div class="choices-container" id="choices-area"></div>
    </div>

    <div id="translation-modal" class="modal hidden">
        <div class="modal-content">
            <h2>üìú REVIEW & ACTION</h2>
            <div class="review-box">
                <small>Situation:</small>
                <div class="eng-text" id="m-story-en"></div>
                <div class="phonetic" id="m-story-read"></div>
                <div class="th-text" id="m-story-th"></div>
            </div>
            <div class="review-box" style="border-left: 4px solid #fff;">
                <small>Your Choice:</small>
                <div class="eng-text" id="m-choice-en"></div>
                <div class="phonetic" id="m-choice-read"></div>
                <div class="th-text" id="m-choice-th"></div>
                <div class="effect-preview" id="m-effect-preview"></div>
            </div>
            <button class="next-btn" id="modal-next-btn">CONFIRM</button>
        </div>
    </div>

    <div id="item-modal" class="item-modal-overlay hidden">
        <div class="item-modal">
            <h3 id="item-name-display">Item Name</h3>
            <div id="item-desc-area"></div>
            <div class="item-actions">
                <button class="btn-keep" onclick="closeItemModal()">‡πÄ‡∏Å‡πá‡∏ö‡πÑ‡∏ß‡πâ</button>
                <button class="btn-discard" id="btn-discard-action">‡∏ó‡∏¥‡πâ‡∏á</button>
            </div>
        </div>
    </div>

    <div id="guide-modal" class="modal hidden">
        <div class="modal-content guide-content">
            <h2 style="border-bottom: 2px solid #e67e22; padding-bottom: 10px;">üìñ ‡∏Ñ‡∏π‡πà‡∏°‡∏∑‡∏≠‡πÄ‡∏≠‡∏≤‡∏ä‡∏µ‡∏ß‡∏¥‡∏ï‡∏£‡∏≠‡∏î</h2>
            <div class="guide-scroll">
                <div class="guide-item">
                    <strong style="color:#e74c3c;">‚ù§Ô∏è HP (‡∏û‡∏•‡∏±‡∏á‡∏ä‡∏µ‡∏ß‡∏¥‡∏ï):</strong>
                    <p>‡πÄ‡∏´‡∏•‡∏∑‡∏≠ 0 = ‡∏ï‡∏≤‡∏¢ (Game Over) ‡πÉ‡∏ä‡πâ‡∏ú‡πâ‡∏≤‡∏û‡∏±‡∏ô‡πÅ‡∏ú‡∏•/‡∏¢‡∏≤‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÑ‡∏î‡πâ</p>
                </div>
                <div class="guide-item">
                    <strong style="color:#9b59b6;">üß† Sanity (‡∏™‡∏ï‡∏¥):</strong>
                    <p>‡πÄ‡∏´‡∏•‡∏∑‡∏≠ 0 = ‡∏ö‡πâ‡∏≤‡∏Ñ‡∏•‡∏±‡πà‡∏á ‡∏Å‡∏¥‡∏ô‡∏ä‡πá‡∏≠‡∏Å‡πÇ‡∏Å‡πÅ‡∏•‡∏ï/‡∏ô‡πâ‡∏≥‡∏ä‡πà‡∏ß‡∏¢‡πÑ‡∏î‡πâ</p>
                </div>
                <div class="guide-item">
                    <strong>üéí Inventory:</strong>
                    <p>‡πÄ‡∏Å‡πá‡∏ö‡πÑ‡∏î‡πâ 3 ‡∏ä‡πà‡∏≠‡∏á ‡∏Ç‡∏≠‡∏á‡∏ã‡πâ‡∏≠‡∏ô‡∏ó‡∏±‡∏ö‡∏Å‡∏±‡∏ô‡πÑ‡∏î‡πâ</p>
                </div>
            </div>
            <button class="next-btn" onclick="closeGuide()">‡∏õ‡∏¥‡∏î (CLOSE)</button>
        </div>
    </div>

    <div id="full-inv-modal" class="modal hidden" style="z-index: 4000;">
        <div class="modal-content alert-style">
            <div class="alert-header">‚ö†Ô∏è INVENTORY FULL! (3/3)</div>
            <div class="alert-body">
                <p>‡∏Ñ‡∏∏‡∏ì‡∏û‡∏ö‡πÑ‡∏≠‡πÄ‡∏ó‡πá‡∏°‡πÉ‡∏´‡∏°‡πà:</p>
                <div class="new-item-box"><span id="new-item-name">???</span></div>
                <p class="small-text">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏Ç‡∏≠‡∏á‡∏ó‡∏µ‡πà‡∏à‡∏∞ <strong>"‡∏ó‡∏¥‡πâ‡∏á"</strong> ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏£‡∏±‡∏ö‡∏Ç‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà</p>
                <div id="swap-list" class="swap-list-container"></div>
            </div>
            <div class="alert-footer">
                <button id="btn-ignore-new" class="btn-discard-new">‚ùå ‡πÑ‡∏°‡πà‡πÄ‡∏Å‡πá‡∏ö (‡∏ó‡∏¥‡πâ‡∏á‡∏Ç‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà)</button>
            </div>
        </div>
    </div>

    <script src="stories.js"></script>
    <script src="script.js"></script>
</body>
</html>